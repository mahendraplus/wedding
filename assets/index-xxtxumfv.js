(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();const c=["💝","🌼","🌸","🏵️","🌺","🧨","🎈"];function a(r){function n(){const t=document.createElement("div");t.className="emoji",t.textContent=c[Math.floor(Math.random()*c.length)],t.style.left=Math.random()*100+"vw",t.style.animationDuration=Math.random()*3+2+"s",t.style.fontSize=Math.random()*20+20+"px",r.appendChild(t),setTimeout(()=>{t.remove()},5e3)}return setInterval(n,300)}class l{constructor(n,t=7e3){this.scenes=Array.from(n),this.currentScene=0,this.duration=t,this.interval=null}showScene(n){this.scenes.forEach(t=>t.style.display="none"),this.scenes[n]&&(this.scenes[n].style.display="block")}play(){this.currentScene=0,this.showScene(this.currentScene),this.interval=setInterval(()=>{if(this.currentScene++,this.currentScene>=this.scenes.length){clearInterval(this.interval);return}this.showScene(this.currentScene)},this.duration)}reset(){this.interval&&clearInterval(this.interval),this.play()}}class u{constructor(n){this.audio=n,this.setupEventListeners()}setupEventListeners(){this.audio.addEventListener("ended",()=>{this.audio.currentTime=0,this.audio.play()})}play(){this.audio.play()}reset(){this.audio.currentTime=0,this.audio.play()}}document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("playButton"),n=document.querySelector(".scenes-container"),t=document.querySelector(".emoji-rain"),o=document.getElementById("bgMusic"),e=document.getElementById("replayButton");a(t);const s=new l(document.querySelectorAll(".scene")),i=new u(o);r.addEventListener("click",()=>{r.parentElement.style.display="none",n.classList.remove("hidden"),i.play(),s.play()}),e.addEventListener("click",()=>{i.reset(),s.reset()})});
